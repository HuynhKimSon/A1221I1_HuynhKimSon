<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IV. Yêu cầu 4 (String) - Bài 1</title>
</head>
<body>

</body>
<script>
    /*  Bài 1: Viết một hàm chuẩn hóa xâu ký tự: biến đổi xâu ký tự thành xâu sao cho trong xâu
       không có 2 dấu cách liền nhau và bắt đầu mỗi từ phải in hoa. Ví dụ tRuong TaN HAI
       => Truong Tan Hai.
       Và một hàm tìm từ dài nhất trong 1 xâu ký tự. Hàm main sử dụng các hàm này để nhập
       xâu ký tự từ bàn phím, in ra xâu trước và sau khi chuẩn hóa, 1 từ dài nhất trong xâu đó. */

    var convertStr = '';

    function removeWhiteSpace(str) {
        for (let i = 0; i < str.length; i++) {
            if (i === 0 && str.charAt(i) !== ' ') {
                convertStr += str.charAt(i);
            } else if (str.charAt(i) === ' ' && str.charAt(i - 1) !== ' ') {
                convertStr += str.charAt(i);
            } else if (str.charAt(i) !== ' ') {
                convertStr += str.charAt(i);
            }
        }
    };
    var result = '';

    function change() {
        for (let i = 0; i < convertStr.length; i++) {
            if (convertStr.charAt(i) === convertStr.charAt(i).toLowerCase()) {
                result += convertStr[i].toUpperCase();
            } else if (convertStr.charAt(i) === convertStr.charAt(i).toUpperCase()) {
                result += convertStr[i].toLowerCase();
            }
        }
    }

    var word = '';

    function checkLength() {
        let index = -1;
        let max = 0;
        let temp;
        for (let i = 0; i < result.length; i++) {
            if (result.charAt(i) === ' ' || i === result.length - 1) {
                if (i === result.length - 1) {
                    i = i + 1;
                }
                temp = result.slice(index + 1, i);
                if (temp.length > max) {
                    max = temp.length;
                    word = temp;
                }
                index = i;
            }
        }
        console.log(word);
        console.log(max);

    };

    function main() {
        let str = "tRuong   TaN  HAI";
        removeWhiteSpace(str);
        change();
        checkLength();
        console.log("xâu trước khi chuẩn hóa : " + str);
        console.log("xâu trước sau khi chuẩn hóa : " + result);
        console.log("từ dài nhất trong xâu : " + word);
    };

    main();

</script>
</html>