<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IV. Yêu cầu 4 (String) - Bài 3</title>
</head>
<body>

</body>
<script>
    /*  Bài 3: Cho hai xâu kí tự, tìm số lượng kí tự chung giữa chúng.
        Ví dụ: s1 = "aabcc" và s2 = "adcaa", thì kết quả commonCharacterCount(s1, s2) = 3.
        ⇨	2 xâu s1 và s2 có 3 kí tự chung: 2 kí tự 'a' và 1 kí tự 'c'.
    */

    function commonCharacterCount(str_1, str_2) {
        let arr = [];
        str_1 = str_1.split('').sort();
        console.log("str_1 : " + str_1);
        str_2 = str_2.split('').sort();
        console.log("str_2 : " + str_2);
        let count = 0;
        let char = '';
        for (let i = 0, j = 0; i < str_1.length && j < str_2.length;) {
            if (str_1[i] === str_2[j]) {
                count++;
                if (str_1[i] !== char) {
                    char = str_1[i];
                } else if (char !== '') {
                    arr.push([char, count]);
                    count = 0;
                }
                i++;
                j++;
            } else {
                if (count > 0) {
                    arr.push([char, count]);
                    count = 0;
                }
                if (str_1[i] > str_2[j]) {
                    j++;
                } else {
                    i++;
                }
            }
        }
        return arr;
    }

    let str_1 = "aabcccdd";
    let str_2 = "aabbcdd";
    let result = commonCharacterCount(str_1, str_2);
    console.log(result);

</script>
</html>